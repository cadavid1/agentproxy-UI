1, there is an existing stack for use agent to generating report
2, the output report currently is text based. which is what i want to change
3, the new report want to be like this: screenshot.


*** important *** I want you first try to get a JSON abstracted. then use prompt to have agent collect the information needed in that JSON. you can use this prompt below as reference. then you code a render function that renders JSON to match exactly this screenshot, to pixle by pixle. 

do these three steps make sure all these three are completed and successful one by one, and verify, keep developing untill all of them are great and you see a clear satisfying end result



the json that's required to generate this screenshot you can refer similar to this
```{
  "document": {
    "publisher": "Barclays Research",
    "franchise_label": "CORE",
    "coverage_universe": "Global Tobacco",
    "sector_vertical": "European Consumer Staples",
    "industry_view": "NEUTRAL",
    "title": "Chinese e-cigs industry update - site visit to RLX Technology",
    "timestamps": {
      "completed_gmt": "2023-02-14T21:51:00Z",
      "released_gmt": "2023-02-15T05:10:00Z"
    },
    "distribution": {
      "restriction": "Restricted - External"
    }
  },
  "executive_summary": {
    "lead_sentence": "We spent a day in Beijing last December with the management team from RLX Technology and discussed the Chinese regulation dynamic on e-cigs and its implication for the industry.",
    "coverage_disclaimer": "RLX Technology is not under coverage by Barclays Research. Information about this company is being provided for information purposes only and is not an investment recommendation by Barclays Research."
  },
  "site_visit": {
    "type": "Management meeting / site visit",
    "location": "Beijing",
    "timing_reference": "last December (relative to report release)",
    "company": {
      "name": "RLX Technology",
      "coverage_status": "Not covered",
      "description_in_report": "top e-cigs producer in China"
    }
  },
  "china_regulatory_changes_2022": [
    {
      "label": "National production and sales licensing system",
      "timing": "mid-2022",
      "details": null
    },
    {
      "label": "New e-cig national standard",
      "effective_date": "2022-10-01",
      "details": {
        "bans": ["all fruit flavour", "synthetic nicotine"]
      }
    },
    {
      "label": "Excise duty introduction",
      "timing": "late October 2022",
      "details": {
        "producer_excise_rate": 0.36,
        "retailer_excise_rate": 0.11
      }
    }
  ],
  "market_facts_and_figures": {
    "china_share_of_global_ecigs_production": {
      "range": [0.8, 0.9],
      "notes": ["even higher share in disposable category (qualitative)"]
    },
    "china_domestic_ecigs_sales_2021_usd": 3000000000,
    "china_ecigs_related_export_2021_usd": 27000000000,
    "population_penetration": {
      "china": 0.01,
      "us": 0.05,
      "notes": ["China: just over 1% vs US: >5% (as stated)"]
    },
    "cigarette_prevalence_2020": {
      "china": 0.256,
      "us": 0.125
    },
    "rrp_availability_context": {
      "mentions": ["Modern Oral", "HNB"],
      "note": "lack of other RRPs referenced as a driver of potential e-cigs growth"
    }
  },
  "cross_market_relevance": {
    "statement": "Regulation changes implemented in China resonate with major topics in other major e-cigs markets; insights may help understand potential impacts elsewhere.",
    "topics_mentioned": [
      "flavour ban",
      "PMTA process",
      "FDA’s regulation over synthetic nicotine e-cigs"
    ]
  },
  "key_takeaways_section": {
    "intro": "Our conversation focused on recent regulation changes and their implication on the sector and RLX Technology itself (RLX US) with key takeaways below:",
    "takeaways_visible_on_page": [
      {
        "heading": "Flavour regulation outlook",
        "text_visible": "The new national standard has been in effect since 1st Oct and states that ‘e-cigs should be only in tobacco flavour’. However, unlike other countries/regions",
        "is_truncated_in_screenshot": true
      }
    ]
  },
  "people": {
    "analysts": [
      {
        "name": "Gaurav Jain",
        "phone": "+44 (0)20 3555 2501",
        "email": "gaurav2.jain@barclays.com",
        "organization": "Barclays, UK"
      },
      {
        "name": "Tingfeng Dai",
        "phone": "+44 (0)20 7773 0126",
        "email": "tingfeng.dai@barclays.com",
        "organization": "Barclays, UK"
      },
      {
        "name": "Pallav Mittal",
        "phone": "+44 (0)20 7773 1376",
        "email": "pallav.mittal@barclays.com",
        "organization": "Barclays, UK"
      },
      {
        "name": "Warren Ackerman",
        "phone": "+44 (0)20 3134 1903",
        "email": "warren.ackerman@barclays.com",
        "organization": "Barclays, UK"
      },
      {
        "name": "Iain Simpson",
        "phone": "+44 (0)20 7773 3616",
        "email": "iain.simpson@barclays.com",
        "organization": "Barclays, UK"
      },
      {
        "name": "Laurence Whyatt",
        "phone": "+44 (0)20 7773 5324",
        "email": "laurence.whyatt@barclays.com",
        "organization": "Barclays, UK"
      }
    ]
  },
  "footer_disclosures_visible": {
    "conflict_notice": "Barclays Capital Inc. and/or one of its affiliates does and seeks to do business with companies covered in its research reports; potential conflicts may affect objectivity; consider report as only a single factor in investment decisions.",
    "finra_notice": "Prepared in whole or in part by equity research analysts based outside the US who are not registered/qualified as research analysts with FINRA.",
    "disclosures_pointer": "Please see analyst certifications and important disclosures beginning on page 4."
  }
}
```


A prompt u can use for Agent to reach this JSON could be this.
```
You are an equity research analyst writing a sell-side style “period performance + outlook” note based ONLY on the provided report text.

TASK
1) Extract EVERY material detail (numbers, dates, policy names, entities, claims) into an Evidence Table first.
2) Then write a structured research-note summary that is faithful to the text and does not introduce outside facts.

HARD RULES
- Use only information in the provided text. Do not add external knowledge.
- If something is not stated, write “Not specified in the text.”
- Clearly label statements as one of:
  (A) “Company commentary” (what management said)
  (B) “Analyst interpretation” (what the author concludes)
  (C) “Inference” (logical implication; must be explicitly marked)
- Preserve all key figures (%, $, dates, counts) and tie them to the right context.
- Keep wording original but do NOT quote long passages. Max 20 words per quote if needed.

OUTPUT FORMAT (use these exact section headers)

# 1) One-line ID
- Sector / Theme:
- Report date:
- Geography:
- Company(ies):
- Event type (e.g., results / site visit / channel check / regulation update):

# 2) Executive Summary (5 bullets max)
- Bullet 1 (most important quantified takeaway)
- Bullet 2
- Bullet 3
- Bullet 4
- Bullet 5

# 3) What Changed (Chronology)
Provide a dated bullet list of the major developments/policies/regulations mentioned.
Each bullet must include: date (or “timing”), policy/action, who it applies to, and stated impact mechanism.

# 4) Market Context & Sizing
- Supply chain / production share:
- Domestic market size vs export size:
- Penetration and prevalence metrics:
- Why the market matters (as stated in text):

# 5) Company / Industry Takeaways
Break into subheads:
## Product / Flavor rules
## Tax / Excise duties
## Licensing (producer + retailer)
## Distribution / procurement platform
## Competition / market structure
## International / disposables (if applicable)

For each subhead include:
- What the report says happened
- Quantified impact (if any)
- Near-term vs medium-term outlook signals mentioned

# 6) Read-across / Implications for Other Markets
List each region/regulator referenced and summarize the analogous issue + what the China case implies (as stated).

# 7) Watchlist (Next 3–6 catalysts/signposts)
Bulleted list with dates/periods if provided (e.g., “post-Q2 23 recovery”).
If timing is vague, state it as vague.

# 8) Risks, Unknowns, and Open Questions
Explicitly list uncertainties the report highlights (e.g., definition/enforcement ambiguity).

# 9) Evidence Table (Exhaustive)
Create a table with columns:
- Category (Regulation / Market size / Tax / Volume/Rev / Licensing / Distribution / Other)
- Item
- Value (number/date/percent)
- Who said it (Company / Analyst / Source cited in text)
- Exact context (1 sentence)
- Confidence (High if explicit, Medium if implied, Low if ambiguous)

Now, here is the report text:
<<<PASTE REPORT TEXT HERE>>>
```